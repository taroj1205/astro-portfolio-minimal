---
import type { ImageMetadata } from 'astro'
import type { HTMLAttributes } from 'astro/types'
import { Image as UnpicImage } from '@unpic/astro'
import type { UnpicImageProps } from '@unpic/core'

interface Props
  extends Omit<UnpicImageProps<HTMLAttributes<'img'>>, 'src' | 'alt'> {
  src: ImageMetadata
  alt: string
}

const {
  src,
  alt,
  sizes,
  class: className,
  layout,
  priority,
  ...rest
} = Astro.props as Props
---

<UnpicImage
  src={src}
  alt={alt}
  sizes={sizes}
  class={className}
  layout={layout}
  priority={priority}
  {...rest}
/>
